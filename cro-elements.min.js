"use strict";document.addEventListener("DOMContentLoaded",function(){initWhatsAppButton(),initSocialProofWidget(),initPopups()});function initWhatsAppButton(){const e=document.createElement("a");e.className="whatsapp-btn",e.href="https://wa.me/918979636730?text=Hello%2C%20I%27m%20interested%20in%20your%20services%20and%20would%20like%20to%20know%20more.",e.target="_blank",e.rel="noopener noreferrer",e.innerHTML=`
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
    </svg>
  `,document.body.appendChild(e)}function initSocialProofWidget(){const e=document.createElement("div");e.className="social-proof-widget";const n=[{name:"John D.",action:"purchased a refurbished laptop",time:"15 minutes ago",icon:"\u{1F6D2}"},{name:"Sarah M.",action:"requested a business IT quote",time:"35 minutes ago",icon:"\u{1F4DD}"},{name:"Tech Solutions Inc.",action:"became a certified partner",time:"2 hours ago",icon:"\u{1F91D}"},{name:"David K.",action:"saved 45% on IT hardware",time:"1 hour ago",icon:"\u{1F4B0}"},{name:"Global Systems Ltd.",action:"renewed their maintenance plan",time:"3 hours ago",icon:"\u{1F504}"}],o=document.createElement("div");o.className="social-proof-close",o.innerHTML="\u2715",o.addEventListener("click",function(){e.classList.remove("visible"),setTimeout(function(){s()},1e4)});const t=document.createElement("div");t.className="social-proof-content",e.appendChild(o),e.appendChild(t),document.body.appendChild(e);let i=0;function s(){const c=n[i];t.innerHTML=`
      <div class="social-proof-icon">
        <span style="font-size: 20px;">${c.icon}</span>
      </div>
      <div class="social-proof-text">
        <p><span class="name">${c.name}</span> <span class="action">${c.action}</span></p>
        <p class="time">${c.time}</p>
      </div>
    `,e.classList.add("visible"),setTimeout(function(){e.classList.remove("visible"),i=(i+1)%n.length,setTimeout(s,8e3)},5e3)}setTimeout(s,5e3)}function initPopups(){createPopupOverlay("exit-intent-popup","Don't miss out on exclusive offers!","Get a special 15% discount on your first purchase when you subscribe to our newsletter."),createPopupOverlay("scroll-popup","Ready to upgrade your business?","Fill out this form to receive a personalized quote for your business needs."),createPopupOverlay("timed-popup","Limited Time Offer","Sign up now to get a free IT infrastructure assessment - valued at \u20B925,000!");let e=!1;document.addEventListener("mouseleave",function(o){o.clientY<0&&!e&&!isPopupCookieSet("exitIntent")&&(showPopup("exit-intent-popup"),e=!0,setPopupCookie("exitIntent",1))});let n=!1;window.addEventListener("scroll",function(){const o=window.scrollY,t=document.documentElement.scrollHeight-window.innerHeight;o/t*100>60&&!n&&!isPopupCookieSet("scrollPopup")&&(showPopup("scroll-popup"),n=!0,setPopupCookie("scrollPopup",1))}),isPopupCookieSet("timePopup")||setTimeout(function(){showPopup("timed-popup"),setPopupCookie("timePopup",1)},3e4)}function createPopupOverlay(e,n,o){const t=document.createElement("div");t.className="popup-overlay",t.id=e,t.innerHTML=`
    <div class="popup-content">
      <div class="popup-close"></div>
      <div class="popup-header">
        <h3>${n}</h3>
        <p>${o}</p>
      </div>
      <form class="popup-form" id="${e}-form" onsubmit="submitPopupForm(event, '${e}')">
        <div class="form-group">
          <label for="${e}-name">Full Name</label>
          <input type="text" id="${e}-name" name="name" required>
        </div>
        <div class="form-group">
          <label for="${e}-email">Email Address</label>
          <input type="email" id="${e}-email" name="email" required>
        </div>
        <div class="form-group">
          <label for="${e}-company">Company Name</label>
          <input type="text" id="${e}-company" name="company" required>
        </div>
        <div class="form-group">
          <label for="${e}-phone">Phone Number</label>
          <input type="tel" id="${e}-phone" name="phone" required>
        </div>
        <button type="submit">Get Started</button>
        <div class="form-footer">
          <p>We respect your privacy and will never share your information.</p>
        </div>
      </form>
      
      <div class="b2b-benefits">
        <div class="benefit-item">
          <div class="benefit-icon">\u26A1</div>
          <div class="benefit-text">Fast Response</div>
        </div>
        <div class="benefit-item">
          <div class="benefit-icon">\u{1F6E1}\uFE0F</div>
          <div class="benefit-text">Enterprise Security</div>
        </div>
        <div class="benefit-item">
          <div class="benefit-icon">\u{1F4BC}</div>
          <div class="benefit-text">Business Solutions</div>
        </div>
      </div>
    </div>
  `,document.body.appendChild(t),t.querySelector(".popup-close").addEventListener("click",function(){hidePopup(e)}),t.addEventListener("click",function(s){s.target===t&&hidePopup(e)})}function showPopup(e){document.getElementById(e).classList.add("active"),document.body.style.overflow="hidden"}function hidePopup(e){document.getElementById(e).classList.remove("active"),document.body.style.overflow=""}function submitPopupForm(e,n){e.preventDefault();const o=document.getElementById(`${n}-form`),t=new FormData(o);console.log("Form submitted:",Object.fromEntries(t));const i=o.closest(".popup-content");i.innerHTML=`
    <div class="popup-close"></div>
    <div class="popup-header">
      <h3>Thank You!</h3>
      <p>We've received your information and will contact you shortly.</p>
    </div>
  `,i.querySelector(".popup-close").addEventListener("click",function(){hidePopup(n)}),setTimeout(function(){hidePopup(n)},3e3)}function setPopupCookie(e,n,o=7){const t=new Date;t.setTime(t.getTime()+o*24*60*60*1e3);const i="expires="+t.toUTCString();document.cookie=e+"="+n+";"+i+";path=/"}function isPopupCookieSet(e){const n=e+"=",o=document.cookie.split(";");for(let t=0;t<o.length;t++)if(o[t].trim().indexOf(n)===0)return!0;return!1}

// After capturing the form data (you already have this part in your code)

// Map the form data to the Google Form field names
const googleFormData = {
  'entry.1538702987': formData.name,   // Replace with the actual Google Form entry name for 'Full Name'
  'entry.561850479': formData.email,  // Replace with the actual Google Form entry name for 'Email Address'
  'entry.1872496818': formData.company,  // Replace with the actual Google Form entry name for 'Company Name'
  'entry.832074159': formData.phone,  // Replace with the actual Google Form entry name for 'Phone Number'
};

// Send the form data to Google Forms using a POST request
fetch('https://docs.google.com/forms/d/e/1FAIpQLSe-BGwpk0MBO5akP6SknZXf9RvyAPz6zb9aj2clvrjBXi8_8w/formResponse', {
  method: 'POST',
  target: "_self"
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded',  // Use URL encoded form data
  },
  body: new URLSearchParams(googleFormData),  // Encode the form data as URL-encoded
})
.then(response => {
  if (response.ok) {
    console.log('Form successfully submitted.');
  } else {
    console.log('Error submitting form:', response);
  }
})
.catch(error => {
  console.error('Error:', error);
});
